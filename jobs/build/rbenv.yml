---
- name: Install RBENV Pre-Dependencies
  ansible.builtin.apt:
    state: latest
    pkg: 
      - autoconf 
      - patch 
      - build-essential 
      - rustc 
      - libssl-dev 
      - libyaml-dev 
      - libreadline6-dev 
      - zlib1g-dev 
      - libgmp-dev 
      - libncurses5-dev 
      - libffi-dev 
      - libgdbm6 
      - libgdbm-dev 
      - libdb-dev 
      - uuid-dev
- name: Git RBENV
  ansible.builtin.git:
    repo: 'https://github.com/rbenv/rbenv.git'
    single_branch: yes
    version: master
    dest: "{{ rbenv.dir }}"
- name: Get Ruby Build Plugin
  ansible.builtin.git:
    repo: https://github.com/rbenv/ruby-build.git 
    dest: "{{ rbenv.dir }}/plugins/ruby-build"
    single_branch: yes
    version: master
#- name: Setup symlinks for rbenv
#  ansible.builtin.file:
#    src: "{{ rbenv.dir }}/libexec/rbenv"
#    dest: /usr/local/bin/rbenv
#    mode: "0555"
#    state: link

